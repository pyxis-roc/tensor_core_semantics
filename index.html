<!DOCTYPE html>
<html lang="en" xmlns:m="http://www.w3.org/1998/Math/MathML">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Benjamin Valpey">
    <title>SMT Input Data for SC23 SRC Graduate Poster Session</title>

    <!-- Bootstrap stuff -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">

    <!-- Custom stylesheet 
    <link rel="stylesheet" href="css/main.css" >
    -->

    <!-- JQuery stuff -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>

    <!-- jqMath-->
	  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=UnifrakturMaguntia">
	  <link rel="stylesheet" href="./mathscribe/jqmath-0.4.3.css">
	  <script src="mathscribe/jqmath-etc-0.4.6.min.js" charset="utf-8"></script>
    <!--
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    -->
</head>
<style>
table:not(.table-striped) tbody:nth-child(even) {
   background-color: #f2f2f2; 
}

.table>tbody>tr>td, 
.table>tbody>tr>th, 
.table>tfoot>tr>td, 
.table>tfoot>tr>th, 
.table>thead>tr>td, 
.table>thead>tr>th {
      vertical-align: middle;
      font-family: math;
 }
</style>
<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
  <hgroup>
    <h1>A Formal Specification of Tensor Cores via Satisfiability Modulo Theories</h1>
    <p class="tagline">Supporting Data generated by SMT</p>
  </hgroup>
  </header>
<body>
<div class="container">

<h3>Precision of Accumulation</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-sm table-bordered" style="text-align: center;">
    <tbody>
    <tr>
        <th scope="row">$\bo a↖{→}$</th>
        <td>$-1.9990234375&#xB7;2^{-1}$</td>
        <td>$-1.9990234375&#xB7;2^{-1}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b↖{→}$</th>
        <td>$-1.9990234375&#xB7;2^{-1}$</td>
        <td>$1.4990234375&#xB7;2^{-1}$</td>
    </tr>
    <tr>
        <th scope="row">Exact Result</th>
        <td colspan="2">$1.9990234375&#xB7;2^{-3}$</td>
    </tr>
    <tr>
        <th>Result (half)</th>
        <td colspan="2">$1.0&#xB7;2^{-2}$</td>
    </tr>
    <tr scope="row">
        <th>Hardware Result</th>
        <td colspan="2">$1.9990234375&#xB7;2^{-3}$</td>
    </tr>
    </tbody>
</table>
</div>
<h3>Precision of Multiplication</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-sm table-bordered" style="text-align: center;">
  <tbody>
    <tr>
        <th scope="row">$\bo a_ \bo 1$</th>
        <td>$1.2587890625&#xB7;2^{-15}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b_ \bo 1$</th>
        <td>$1.3681640625&#xB7;2^{-1}$</td>
    </tr>
    <tr>
        <th scope="row">Exact Result</th>
        <td>$1.4162635803222656&#xB7;2^{-17}$</td>
    </tr>
    <tr>
        <th scope="row">Result (half)</th>
        <td>$1.1767578125&#xB7;2^{-15}$</td>
    </tr>
    <tr>
        <th scope="row">Hardware Result</th>
        <td>$1.4162635803222656&#xB7;2^{-17}$</td>
    </tr>
  </tbody>
</table>
</div>
<h3>Rounding of Final Result to Half-Precision</h3>
<div class="table-responsive-sm">
<table class="table table-sm table-bordered" style="text-align: center;">
  <thead>
    <tr>
        <th>$\bo a_\bo1$</th>
        <th>$\bo b_\bo1$</th>
        <th>rm</th>
        <th>Result for rm</th>
        <th>Hardware Matches</th>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td rowspan="2">$1.3330078125&#xB7;2^{-13}$</td>
        <td rowspan="2">$-1.5&#xB7;2^{-1}$</td>
        <td>RNE</td>
        <td>$-1&#xB7; 2^{-13}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTP</td>
        <td>$-1.9990234375&#xB7;2^{-14}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.3330078125&#xB7;2^{-9}$</td>
        <td rowspan="2">$1.5&#xB7;2^{-1}$</td>
        <td>RNE</td>
        <td>$1&#xB7;2^{-9}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTZ</td>
        <td>$1.9990234375&#xB7;2^{-10}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.9619140625&#xB7;2^{-15}$</td>
        <td rowspan="2">$-1.7744140625&#xB7;2^{-9}$</td>
        <td>RNE</td>
        <td>$-1.0029296875&#xB7;2^{-15}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTN</td>
        <td>$-1.00390625&#xB7;2^{-15}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
</table>
</div>
<h3>Rounding of Intermediate Sums</h3>
<div class="table-responsive-sm">
<table class="table table-sm table-bordered" style="text-align: center;">
  <thead>
    <tr>
        <th>$\bo a_\bo1$</td>
        <th>$\bo b_\bo1$</td>
        <th>$\bo c$</td>
        <th>rm</td>
        <th>Result for rm</td>
        <th>Hardware Matches</td>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td rowspan="2">$1.5&#xB7; 2^{15}$</td>
        <td rowspan="2">$1.5 &#xB7; 2^{-4}$</td>
        <td rowspan="2">$-1.0029296875 &#xB7; 2^{15}$</td>
        <td>RNE</td>
        <td>$1.1249693632125854&#xB7; 2^{30}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTP</td>
        <td>$1.124969482421875&#xB7;2^{30}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.0302734375&#xB7;2^{15}$</td>
        <td rowspan="2">$1.748046875&#xB7;2^{15}$</td>
        <td rowspan="2">$1.5009765625&#xB7;2^{8}$</td>
        <td>RNE</td>
        <td>$1.8009666204452515&#xB7;2^{30}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTP</td>
        <td>$1.800966739654541&#xB7;2^{30}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.767578125&#xB7;2^{15}$</td>
        <td rowspan="2">$-1.1142578125 &#xB7; 2^{15}$</td>
        <td rowspan="2">$1.643554687&#xB7;2^2$</td>
        <td>RNE</td>
        <td>$-1.9695377349853516&#xB7;2^{30}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTZ</td>
        <td>$-1.969537615776062&#xB7;2^{30}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.7822265625&#xB7;2^{-3}$</td>
        <td rowspan="2">$1.0048828125&#xB7;2^{-15}$</td>
        <td rowspan="2">$1.9951171875&#xB7;2^{-8}$</td>
        <td>RNE</td>
        <td>$1.9951342344284058&#xB7;2^{-8}$</td>
        <td>&#10008;</td>
    </tr>
    <tr>
        <td>RTZ</td>
        <td>$1.9951341152191162&#xB7;2^{-8}$</td>
        <td>&#x2714;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$1.7060546875&#xB7;2^{15}$</td>
        <td rowspan="2">$-1.7646484375&#xB7;2^{13}$</td>
        <td rowspan="2">$1.9970703125&#xB7;2^{8}$</td>
        <td>RNE</td>
        <td>$-1.5052924156188965&#xB7;2^{29}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTN</td>
        <td>$-1.505292534828186&#xB7;2^{29}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
        <td rowspan="2">$2^1$</td>
        <td rowspan="2">$1.9990234375&#xB7;2^{-9}$</td>
        <td rowspan="2">$-2^{13}$</td>
        <td>RTZ</td>
        <td>$-1.9999980926513672&#xB7;2^{12}$</td>
        <td>&#x2714;</td>
    </tr>
    <tr>
        <td>RTN</td>
        <td>$-1.9999982118606567&#xB7; 2^{12}$</td>
        <td>&#10008;</td>
    </tr>
  </tbody>
</table>
</div>

<h3>Accumulation Order</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-bordered table-sm" style="text-align: center">
  <tbody>
    <tr>
        <th scope="row">$\bo a↖{→}$</th>
        <td>$1.9990234375&#xB7;2^{-9}$</td>
        <td>$1.999023475&#xB7;2^{-1}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b↖{→}$</th>
        <td>$1.9990234375&#xB7;2^{-1}$</td>
        <td>$1.9990234375&#xB7; 2^{-1}$</td>
    </tr>
    <tr>
      <th scope="row">$\bo c$</th>
      <td colspan="2">$1.0021368265151978&#xB7;2^{15}$</td>
    </tr>
    <tr>
      <th scope="row">Test 1: $\bo (\bo a_\bo 1\bo b_\bo 1 \bo + \bo a_\bo 2 \bo b_ \bo 2 \bo ) \bo + \bo c$</th>
      <td colspan="2">$1.0021673440933228&#xB7;2^{15}$</td>
    </tr>
    <tr>
        <th scope="row">Test 2: $\bo a_\bo 1\bo b_\bo 1 \bo + \bo ( \bo a_\bo 2 \bo b_ \bo 2 \bo  \bo + \bo c \bo )$</th>
        <td colspan="2">$1.0021672248840332&#xB7;2^{15}$</td>
    </tr>
    <tr>
        <th scope="row">Hardware Result (Test 1)</th>
        <td colspan="2">$1.0021672248840332&#xB7;2^{15}$</td>
    </tr>
    <tr>
        <th scope="row">Hardware Result (Test 2)</th>
        <td colspan="2">$1.0021672248840332&#xB7;2^{15}$</td>
    </tr>
  </tbody>
</table>
</div>
<h3>Normalization during Accumulation</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-bordered table-sm" style="text-align: center">
  <tbody>
    <tr>
        <th scope="row">$\bo a↖{→}$</th>
        <td>$1.5302734375&#xB7;2^{-15}$</td>
        <td>$1.0&#xB7;2^{-14}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b↖{→}$</th>
        <td>$1.8857421875&#183;2^{-11}$</td>
        <td>$1.00097656255&#xB7; 2^{-15}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo c$</th>
        <td colspan="2">$1.8124666213989258&#xB7;2^{-2}$</td>
    </tr>
    <tr>
        <th scope="row">With Normalization</th>
        <td colspan="2">$1.8124667406082153&#xB7;2^{-2}$</td>
    </tr>
    <tr>
      <th scope="row">No Normalization</th>
        <td colspan="2">$1.8124666213989258&#xB7;2^{-2}$</td>
    </tr>
    <tr>
        <th scope="row">Hardware Result</th>
        <td colspan="2">$1.8124666213989258&#xB7;2^{-2}$</td>
    </tr>
  </tbody>
</table>
</div>
<h3>Number of Carry-Out Bits Required due to Lack of Normalization</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-bordered table-sm" style="text-align: center">
  <tbody>
    <tr>
        <th scope="row">$\bo a↖{→}$</th>
        <td>$1.6484375&#xB7;2^{-5}$</td>
        <td>$1.765625&#xB7;2^{-3}$</td>
        <td>$1.5&#xB7;2^{15}$</td>
        <td>$1.0&#xB7;2^{10}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b↖{→}$</th>
        <td>$1.0615234375&#xB7;2^{9}$</td>
        <td>$1.9833984375&#xB7; 2^{6}$</td>
        <td>$1.3330078125&#xB7;2^{-11}$</td>
        <td>$1.0&#xB7;2^{-7}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo c$</th>
        <td colspan="4">$1.999664306640625&#xB7;2^{4}$</td>
    </tr>
    <tr>
        <th scope="row">With 2 bits</th>
        <td colspan="4">$0.0$, since largest exponent is $2^{-4}$ before accumulation</td>
    </tr>
    <tr>
        <th scope="row">With 3 bits</th>
        <td colspan="4">$2^7$</td>
    </tr>
    <tr>
        <th scope="row">Result</th>
        <td colspan="4">$2^7$</td>
    </tr>
  </tbody>
</table>
</div>
<h3>Ootomo and Yokota versus Markidis et al.</h3>
<div class="table-responsive-sm">
<table class="table table-striped table-bordered table-sm" style="text-align: center">
    <tr>
        <th scope="row">$\bo a↖{→}$</th>
        <td>$1.0009765625&#xB7;2^{-8}$</td>
        <td>$1.326171875&#xB7;2^{-14}$</td>
        <td>$2^{-12}$</td>
        <td>$2^{-12}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo b↖{→}$</th>
        <td>$1.998046875&#xB7;2^{-7}$</td>
        <td>$1.4443359375&#xB7; 2^{-7}$</td>
        <td>$2^{-12}$</td>
        <td>$2^{-12}$</td>
    </tr>
    <tr>
        <th scope="row">$\bo c$</th>
        <td colspan="4">$2^{-24}$</td>
    </tr>
    <tr>
        <th scope="row">Actual</th>
        <td colspan="4">$1.0 + 2^{-23}$</td>
    </tr>
    <tr>
        <th scope="row">Markidis et al.</th>
        <td colspan="4">$1.0 + 2^{-23}$</td>
    </tr>
    <tr>
        <th scope="row">Ootomo and Yokota</th>
        <td colspan="4">$1.0$</td>
    </tr>
</table>
<div>
</div>
</body>
</html>
